import{d as G,u as le,g as T,a1 as xe,a as r,h as ne,P as Z,a2 as Re,a3 as Ae,a4 as at,a5 as rt,a6 as ot,_ as ke,a7 as ae,a8 as lt,a9 as st,aa as re,D as se,ab as it,r as ut,K as C,L as I,N as c,M as t,ac as B,V as y,U as k,W as J,F as ct,ad as dt,O as z,R as V,Q as Y,ae as S,X as he,af as pt,ag as mt,ah as we,ai as ft,Y as Oe,aj as vt,S as gt,ak as bt,a0 as _t}from"./index-ea5c2aef.js";import{D as Be,S as U,s as Ct,M as Ne,u as yt,a as kt,b as ht,c as wt,d as Ot,e as Pt,f as St,g as It,h as Mt,i as $t,j as xt,t as Rt}from"./FileItem-2b2d9d61.js";import"./index-9e440f03.js";import{F as R,_ as At}from"./index-de0584e1.js";import"./index-5f8870c0.js";import{I as je}from"./index-9f7c4c5b.js";/* empty css              */import{c as Bt}from"./copy2clipboard-4a45e2ac.js";import{B as Pe}from"./button-5842320f.js";import"./useTaskListStore-34ada125.js";import"./styleChecker-64fe9b7f.js";import"./EyeOutlined-1dc44d5d.js";var Nt=["class","style"],jt=function(){return{prefixCls:String,href:String,separator:Z.any,overlay:Z.any,onClick:Function}};const H=G({compatConfig:{MODE:3},name:"ABreadcrumbItem",inheritAttrs:!1,__ANT_BREADCRUMB_ITEM:!0,props:jt(),slots:["separator","overlay"],setup:function(e,a){var o=a.slots,l=a.attrs,v=le("breadcrumb",e),p=v.prefixCls,m=function(h,d){var u=T(o,e,"overlay");return u?r(Be,{overlay:u,placement:"bottom"},{default:function(){return[r("span",{class:"".concat(d,"-overlay-link")},[h,r(Re,null,null)])]}}):h};return function(){var O,h=(O=T(o,e,"separator"))!==null&&O!==void 0?O:"/",d=T(o,e),u=l.class,g=l.style,f=xe(l,Nt),b;return e.href!==void 0?b=r("a",ne({class:"".concat(p.value,"-link"),onClick:e.onClick},f),[d]):b=r("span",ne({class:"".concat(p.value,"-link"),onClick:e.onClick},f),[d]),b=m(b,p.value),d?r("span",{class:u,style:g},[b,h&&r("span",{class:"".concat(p.value,"-separator")},[h])]):null}}});var Dt=function(){return{prefixCls:String,routes:{type:Array},params:Z.any,separator:Z.any,itemRender:{type:Function}}};function Lt(n,e){if(!n.breadcrumbName)return null;var a=Object.keys(e).join("|"),o=n.breadcrumbName.replace(new RegExp(":(".concat(a,")"),"g"),function(l,v){return e[v]||l});return o}function Se(n){var e=n.route,a=n.params,o=n.routes,l=n.paths,v=o.indexOf(e)===o.length-1,p=Lt(e,a);return v?r("span",null,[p]):r("a",{href:"#/".concat(l.join("/"))},[p])}const L=G({compatConfig:{MODE:3},name:"ABreadcrumb",props:Dt(),slots:["separator","itemRender"],setup:function(e,a){var o=a.slots,l=le("breadcrumb",e),v=l.prefixCls,p=l.direction,m=function(u,g){return u=(u||"").replace(/^\//,""),Object.keys(g).forEach(function(f){u=u.replace(":".concat(f),g[f])}),u},O=function(u,g,f){var b=lt(u),P=m(g||"",f);return P&&b.push(P),b},h=function(u){var g=u.routes,f=g===void 0?[]:g,b=u.params,P=b===void 0?{}:b,N=u.separator,M=u.itemRender,A=M===void 0?Se:M,j=[];return f.map(function(w){var $=m(w.path,P);$&&j.push($);var E=[].concat(j),q=null;return w.children&&w.children.length&&(q=r(ae,null,{default:function(){return[w.children.map(function(x){return r(ae.Item,{key:x.path||x.breadcrumbName},{default:function(){return[A({route:x,params:P,routes:f,paths:O(E,x.path,P)})]}})})]}})),r(H,{overlay:q,separator:N,key:$||w.breadcrumbName},{default:function(){return[A({route:w,params:P,routes:f,paths:E})]}})})};return function(){var d,u,g,f=e.routes,b=e.params,P=b===void 0?{}:b,N=Ae(T(o,e)),M=(d=T(o,e,"separator"))!==null&&d!==void 0?d:"/",A=e.itemRender||o.itemRender||Se;f&&f.length>0?g=h({routes:f,params:P,separator:M,itemRender:A}):N.length&&(g=N.map(function(w,$){return at(rt(w.type)==="object"&&(w.type.__ANT_BREADCRUMB_ITEM||w.type.__ANT_BREADCRUMB_SEPARATOR),"Breadcrumb","Only accepts Breadcrumb.Item and Breadcrumb.Separator as it's children"),ot(w,{separator:M,key:$})}));var j=(u={},ke(u,v.value,!0),ke(u,"".concat(v.value,"-rtl"),p.value==="rtl"),u);return r("div",{class:j},[g])}}});var Et=["separator","class"],Ft=function(){return{prefixCls:String}};const oe=G({compatConfig:{MODE:3},name:"ABreadcrumbSeparator",__ANT_BREADCRUMB_SEPARATOR:!0,inheritAttrs:!1,props:Ft(),setup:function(e,a){var o=a.slots,l=a.attrs,v=le("breadcrumb",e),p=v.prefixCls;return function(){var m;l.separator;var O=l.class,h=xe(l,Et),d=Ae((m=o.default)===null||m===void 0?void 0:m.call(o));return r("span",ne({class:["".concat(p.value,"-separator"),O]},h),[d.length>0?d:"/"])}}});L.Item=H;L.Separator=oe;L.install=function(n){return n.component(L.name,L),n.component(H.name,H),n.component(oe.name,oe),n};R.useInjectFormItemContext=st;R.ItemRest=re;R.install=function(n){return n.component(R.name,R),n.component(R.Item.name,R.Item),n.component(re.name,re),n};U.setDefaultIndicator=Ct;U.install=function(n){return n.component(U.name,U),n};var zt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M603.3 327.5l-246 178a7.95 7.95 0 000 12.9l246 178c5.3 3.8 12.7 0 12.7-6.5V643c0-10.2-4.9-19.9-13.2-25.9L457.4 512l145.4-105.2c8.3-6 13.2-15.6 13.2-25.9V334c0-6.5-7.4-10.3-12.7-6.5z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"left-circle",theme:"outlined"};const Vt=zt;function Ie(n){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?Object(arguments[e]):{},o=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(a).filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable}))),o.forEach(function(l){Tt(n,l,a[l])})}return n}function Tt(n,e,a){return e in n?Object.defineProperty(n,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[e]=a,n}var ie=function(e,a){var o=Ie({},e,a.attrs);return r(se,Ie({},o,{icon:Vt}),null)};ie.displayName="LeftCircleOutlined";ie.inheritAttrs=!1;const Ut=ie;var Ht={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M521.7 82c-152.5-.4-286.7 78.5-363.4 197.7-3.4 5.3.4 12.3 6.7 12.3h70.3c4.8 0 9.3-2.1 12.3-5.8 7-8.5 14.5-16.7 22.4-24.5 32.6-32.5 70.5-58.1 112.7-75.9 43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 32.6 32.5 58.1 70.4 76 112.5C865.7 417.8 875 464.1 875 512c0 47.9-9.4 94.2-27.8 137.8-17.8 42.1-43.4 80-76 112.5s-70.5 58.1-112.7 75.9A352.8 352.8 0 01520.6 866c-47.9 0-94.3-9.4-137.9-27.8A353.84 353.84 0 01270 762.3c-7.9-7.9-15.3-16.1-22.4-24.5-3-3.7-7.6-5.8-12.3-5.8H165c-6.3 0-10.2 7-6.7 12.3C234.9 863.2 368.5 942 520.6 942c236.2 0 428-190.1 430.4-425.6C953.4 277.1 761.3 82.6 521.7 82zM395.02 624v-76h-314c-4.4 0-8-3.6-8-8v-56c0-4.4 3.6-8 8-8h314v-76c0-6.7 7.8-10.5 13-6.3l141.9 112a8 8 0 010 12.6l-141.9 112c-5.2 4.1-13 .4-13-6.3z"}}]},name:"login",theme:"outlined"};const Gt=Ht;function Me(n){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?Object(arguments[e]):{},o=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(a).filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable}))),o.forEach(function(l){qt(n,l,a[l])})}return n}function qt(n,e,a){return e in n?Object.defineProperty(n,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[e]=a,n}var ue=function(e,a){var o=Me({},e,a.attrs);return r(se,Me({},o,{icon:Gt}),null)};ue.displayName="LoginOutlined";ue.inheritAttrs=!1;const Wt=ue;var Qt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M666.7 505.5l-246-178A8 8 0 00408 334v46.9c0 10.2 4.9 19.9 13.2 25.9L566.6 512 421.2 617.2c-8.3 6-13.2 15.6-13.2 25.9V690c0 6.5 7.4 10.3 12.7 6.5l246-178c4.4-3.2 4.4-9.8 0-13z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"right-circle",theme:"outlined"};const Xt=Qt;function $e(n){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?Object(arguments[e]):{},o=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(a).filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable}))),o.forEach(function(l){Yt(n,l,a[l])})}return n}function Yt(n,e,a){return e in n?Object.defineProperty(n,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[e]=a,n}var ce=function(e,a){var o=$e({},e,a.attrs);return r(se,$e({},o,{icon:Xt}),null)};ce.displayName="RightCircleOutlined";ce.inheritAttrs=!1;const Jt=ce;const Zt=G({__name:"folderNavigator",props:{loc:null},emits:["to"],setup(n,{emit:e}){const a=n,o=it(()=>a.loc),l=ut(!1),v=()=>{l.value=!1,e("to",o.value)};return(p,m)=>{const O=je,h=Ne;return C(),I(J,null,[r(h,{visible:l.value,"onUpdate:visible":m[1]||(m[1]=d=>l.value=d),title:p.$t("inputAddressAndPressEnter"),onOk:v},{default:c(()=>[r(O,{onPressEnter:v,value:t(o),"onUpdate:value":m[0]||(m[0]=d=>B(o)?o.value=d:null),style:{width:"100%"},"allow-clear":""},null,8,["value"])]),_:1},8,["visible","title"]),y("a",{style:{"margin-left":"8px"},onClick:m[2]||(m[2]=d=>l.value=!0)},k(p.$t("go")),1)],64)}}}),Kt={key:0,class:"uninstalled-hint"},en={key:0},tn={class:"hint"},nn={class:"location-bar"},an={class:"breadcrumb"},rn=["onClick"],on={class:"actions"},ln=["onClick"],sn={style:{width:"512px",background:"white",padding:"16px","border-radius":"4px","box-shadow":"0 0 4px #aaa",border:"1px solid #aaa"}},un={key:0,class:"view"},cn={key:0,class:"preview-switch"},dn=G({__name:"stackView",props:{target:null,tabIdx:null,paneIdx:null,path:null,walkMode:{type:Boolean},stackKey:null},setup(n){const e=n,a=ct(),{installBaiduyunBin:o,installedBaiduyun:l,failedHint:v,baiduyunLoading:p,scroller:m,walkModePath:O,stackViewEl:h,props:d,bduss:u,onLoginBtnClick:g,multiSelectedIdxs:f,spinning:b}=yt().toRefs(),{currLocation:P,currPage:N,refresh:M,copyLocation:A,back:j,openNext:w,stack:$,to:E}=kt(e),{gridItems:q,sortMethodConv:K,moreActionsDropdownShow:x,sortedFiles:W,sortMethod:ee,viewMode:Q,viewModeMap:de,itemSize:pe,loadNextDir:De,loadNextDirLoading:Le,canLoadNext:Ee,onScroll:Fe}=ht(e),{onDrop:ze,onFileDragStart:Ve}=wt(e),{onFileItemClick:Te,onContextMenuClick:Ue,showGenInfo:X,imageGenInfo:me,q:He}=Ot(e,{openNext:w}),{previewIdx:fe,onPreviewVisibleChange:Ge,previewing:qe,previewImgMove:ve,canPreview:ge}=Pt(e),{showMenuIdx:te}=St();return dt(()=>e,()=>{d.value=e,e.walkMode&&(O.value=e.path);const _=It.get(e.stackKey??"");_&&($.value=_.slice())},{immediate:!0}),(_,s)=>{const We=vt,be=Pe,Qe=je,F=At,Xe=Pe,_e=R,Ye=gt,Je=Ne,Ze=H,Ke=L,et=bt,tt=ae,Ce=Be,nt=U;return C(),z(nt,{spinning:t(b),size:"large"},{default:c(()=>[r(We,{style:{display:"none"}}),e.target==="netdisk"&&(!t(l)||!t(a).user)?(C(),I("div",Kt,[t(l)?(C(),z(_e,{key:1,layout:"inline"},{default:c(()=>[r(F,{label:"bduss"},{default:c(()=>[r(Qe,{value:t(u),"onUpdate:value":s[0]||(s[0]=i=>B(u)?u.value=i:null),style:{width:"300px"}},null,8,["value"])]),_:1}),r(F,null,{default:c(()=>[r(Xe,{onClick:t(g),type:"primary",loading:t(p)},{icon:c(()=>[r(t(Wt))]),default:c(()=>[V(" "+k(_.$t("login")),1)]),_:1},8,["onClick","loading"])]),_:1})]),_:1})):(C(),I(J,{key:0},[y("div",null,k(_.$t("dependenciesNotInstalled")),1),r(be,{type:"primary",loading:t(p),onClick:t(o)},{default:c(()=>[V(k(_.$t("clickHere2install")),1)]),_:1},8,["loading","onClick"]),t(v)?(C(),I("p",en,k(t(v)),1)):Y("",!0)],64))])):(C(),I("div",{key:1,ref_key:"stackViewEl",ref:h,onDragover:s[16]||(s[16]=S(()=>{},["prevent"])),onDrop:s[17]||(s[17]=S(i=>t(ze)(i),["prevent"])),class:"container"},[r(Je,{visible:t(X),"onUpdate:visible":s[2]||(s[2]=i=>B(X)?X.value=i:null),width:"70vw","mask-closable":"",onOk:s[3]||(s[3]=i=>X.value=!1)},{cancelText:c(()=>[]),default:c(()=>[r(Ye,{active:"",loading:!t(He).isIdle},{default:c(()=>[y("div",{style:{width:"100%","word-break":"break-all","white-space":"pre-line","max-height":"70vh",overflow:"auto"},onDblclick:s[1]||(s[1]=i=>t(Bt)(t(me),"copied"))},[y("div",tn,k(_.$t("doubleClickToCopy")),1),V(" "+k(t(me)),1)],32)]),_:1},8,["loading"])]),_:1},8,["visible"]),y("div",nn,[y("div",an,[r(Ke,{style:{flex:"1"}},{default:c(()=>[(C(!0),I(J,null,he(t($),(i,D)=>(C(),z(Ze,{key:D},{default:c(()=>[y("a",{onClick:S(ye=>t(j)(D),["prevent"])},k(i.curr==="/"?_.$t("root"):i.curr.replace(/:\/$/,_.$t("drive"))),9,rn)]),_:2},1024))),128))]),_:1})]),y("div",on,[y("a",{class:"opt",onClick:s[4]||(s[4]=S((...i)=>t(M)&&t(M)(...i),["prevent"]))},k(_.$t("refresh")),1),e.target==="local"?(C(),z(Ce,{key:0},{overlay:c(()=>[r(tt,null,{default:c(()=>[(C(!0),I(J,null,he(t(a).autoCompletedDirList,i=>(C(),z(et,{key:i.dir},{default:c(()=>[y("a",{onClick:S(D=>t(E)(i.dir),["prevent"])},k(i.zh),9,ln)]),_:2},1024))),128))]),_:1})]),default:c(()=>[y("a",{class:"opt",onClick:s[5]||(s[5]=S(()=>{},["prevent"]))},[V(k(_.$t("quickMove"))+" ",1),r(t(Re))])]),_:1})):Y("",!0),r(Ce,{trigger:["click"],visible:t(x),"onUpdate:visible":s[12]||(s[12]=i=>B(x)?x.value=i:null),placement:"bottomLeft",getPopupContainer:i=>i.parentNode},{overlay:c(()=>[y("div",sn,[r(_e,pt(mt({labelCol:{span:6},wrapperCol:{span:18}})),{default:c(()=>[r(F,{label:_.$t("viewMode")},{default:c(()=>[r(t(we),{value:t(Q),"onUpdate:value":s[7]||(s[7]=i=>B(Q)?Q.value=i:null),onClick:s[8]||(s[8]=S(()=>{},["stop"])),conv:{value:i=>i,text:i=>t(de)[i]},options:Object.keys(t(de))},null,8,["value","conv","options"])]),_:1},8,["label"]),r(F,{label:_.$t("sortingMethod")},{default:c(()=>[r(t(we),{value:t(ee),"onUpdate:value":s[9]||(s[9]=i=>B(ee)?ee.value=i:null),onClick:s[10]||(s[10]=S(()=>{},["stop"])),conv:t(K),options:Object.keys(t(Mt))},null,8,["value","conv","options"])]),_:1},8,["label"]),r(F,null,{default:c(()=>[y("a",{onClick:s[11]||(s[11]=S((...i)=>t(A)&&t(A)(...i),["prevent"]))},k(_.$t("copyPath")),1),r(Zt,{loc:t(P),onTo:t(E)},null,8,["loc","onTo"])]),_:1})]),_:1},16)])]),default:c(()=>[y("a",{class:"opt",onClick:s[6]||(s[6]=S(()=>{},["prevent"]))},k(_.$t("more")),1)]),_:1},8,["visible","getPopupContainer"])])]),t(N)?(C(),I("div",un,[r(t($t),{class:"file-list",items:t(W),ref_key:"scroller",ref:m,onScroll:t(Fe),"item-size":t(pe).first,"key-field":"fullpath","item-secondary-size":t(pe).second,gridItems:t(q)},ft({default:c(({item:i,index:D})=>[r(xt,{idx:D,file:i,"full-screen-preview-image-url":t(W)[t(fe)]?t(Rt)(t(W)[t(fe)]):"","show-menu-idx":t(te),"onUpdate:showMenuIdx":s[13]||(s[13]=ye=>B(te)?te.value=ye:null),selected:t(f).includes(D),"view-mode":t(Q),target:n.target,onFileItemClick:t(Te),onDragstart:t(Ve),onPreviewVisibleChange:t(Ge),onContextMenuClick:t(Ue)},null,8,["idx","file","full-screen-preview-image-url","show-menu-idx","selected","view-mode","target","onFileItemClick","onDragstart","onPreviewVisibleChange","onContextMenuClick"])]),_:2},[e.walkMode?{name:"after",fn:c(()=>[r(be,{onClick:t(De),loading:t(Le),block:"",type:"primary",disabled:!t(Ee),ghost:""},{default:c(()=>[V(k(_.$t("loadNextPage")),1)]),_:1},8,["onClick","loading","disabled"])]),key:"0"}:void 0]),1032,["items","onScroll","item-size","item-secondary-size","gridItems"]),t(qe)?(C(),I("div",cn,[r(t(Ut),{onClick:s[14]||(s[14]=i=>t(ve)("prev")),class:Oe({disable:!t(ge)("prev")})},null,8,["class"]),r(t(Jt),{onClick:s[15]||(s[15]=i=>t(ve)("next")),class:Oe({disable:!t(ge)("next")})},null,8,["class"])])):Y("",!0)])):Y("",!0)],544))]),_:1},8,["spinning"])}}});const On=_t(dn,[["__scopeId","data-v-339527fa"]]);export{On as default};
